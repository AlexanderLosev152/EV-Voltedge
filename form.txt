üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å react-hook-form
üöÄ 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install react-hook-form

–∏–ª–∏

yarn add react-hook-form

üß© 2. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
import { useForm } from "react-hook-form";

function MyForm() {
  const { register, handleSubmit, formState: { errors } } = useForm();

  const onSubmit = (data) => {
    console.log(data);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      ...
    </form>
  );
}

üìù 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π (register)
<input {...register("email")} />

–° –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
<input
  {...register("email", {
    required: "Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",
    pattern: {
      value: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
      message: "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email"
    }
  })}
/>
{errors.email && <p>{errors.email.message}</p>}

‚úîÔ∏è 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (handleSubmit)
<form onSubmit={handleSubmit(onSubmit)}>


handleSubmit ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é.

–ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç onSubmit(data)

–ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –æ—à–∏–±–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ errors

üì¶ 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–æ–π –∏ –∑–Ω–∞—á–µ–Ω–∏—è
–ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
const { watch } = useForm();
const emailValue = watch("email");

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
const { setValue } = useForm();
setValue("email", "test@mail.com");

–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
reset();

üß± 6. –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (Controller)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è UI-–±–∏–±–ª–∏–æ—Ç–µ–∫ (MUI, AntD, React-Select), –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é —Å ref.

import { Controller, useForm } from "react-hook-form";
import Select from "react-select";

<Controller
  name="country"
  control={control}
  rules={{ required: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ" }}
  render={({ field }) => <Select {...field} options={options} />}
/>
{errors.country && <p>{errors.country.message}</p>}

üßÆ 7. –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ (useFieldArray)

–î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä —Å–ø–∏—Å–æ–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤):

const { control, register } = useForm();
const { fields, append, remove } = useFieldArray({
  control,
  name: "phones"
});

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
{fields.map((item, index) => (
  <div key={item.id}>
    <input {...register(`phones.${index}.number`)} />
    <button onClick={() => remove(index)}>–£–¥–∞–ª–∏—Ç—å</button>
  </div>
))}

<button onClick={() => append({ number: "" })}>–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω</button>

üïπ 8. –†–µ–∂–∏–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (mode)
const { register } = useForm({
  mode: "onChange", // –∏–ª–∏ onBlur, onSubmit, all
});

üìä 9. –¢–∏–ø–∏–∑–∞—Ü–∏—è (TypeScript)
type FormData = {
  email: string;
  password: string;
};

const { register } = useForm<FormData>();


data –≤ onSubmit —Ç–µ–ø–µ—Ä—å —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.

üß∞ 10. –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∏—à–∫–∏
–í—ã—è–≤–∏—Ç—å, –∏–∑–º–µ–Ω–µ–Ω–æ –ª–∏ –ø–æ–ª–µ
formState.isDirty

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—Å–µ–π —Ñ–æ—Ä–º—ã
formState.isValid

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤—Å–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
formState.errors

–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—à–∏–±–æ–∫
setError("email", { message: "–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞" });

üéØ 11. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä
import { useForm } from "react-hook-form";

export default function App() {
  const { register, handleSubmit, formState: { errors } } = useForm();

  const onSubmit = (data) => console.log(data);

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <input
        {...register("email", { required: "–í–≤–µ–¥–∏—Ç–µ email" })}
        placeholder="Email"
      />
      {errors.email && <span>{errors.email.message}</span>}

      <input
        {...register("password", { minLength: { value: 6, message: "–ú–∏–Ω 6 —Å–∏–º–≤–æ–ª–æ–≤" } })}
        placeholder="–ü–∞—Ä–æ–ª—å"
        type="password"
      />

      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  );
}
